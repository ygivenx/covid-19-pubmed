{"title": "ScienceDirect ScienceDirect Peer-review under responsibility of the scientific A data mining approach for modeling churn behavior via RFM model in specialized clinics Case study: A public sector hospital in Tehran-review under responsibility of the scientific committee of the 9th International Conference on Theory and Application of Soft Computing, Computing with Words and Perception", "body": "Business and marketing organizations may be ahead of healthcare in applying data mining to derive knowledge from data. This is quickly changing. Successful mining applications have been implemented in the healthcare arena. In recent years, data mining techniques are widely used in healthcare system. Three important mining applications include, Hospital Infection Control, Hospitals Ranking and High-Risk Patients' identification (Obenshain and MAT 2004) . Most studies have investigated prediction of different types of disease and sickness and they were less focused on the relationship between patients as customer and hospitals as organization especially patients churn and loyalty. Customer churn are more attended in other sectors such as different companies, retails and shops (Khajvand et al. (2011) and telecommunication sectors Verbeke et al. (2012) and Amin et al. (2017) . Ramanan et al. have determined theory of mind performance in Alzheimer disease using data mining study. This study was done on 48 Alzheimer's patients and 44 behavioral-variant Front temporal Dementia patients. They have highlighted the relevancy of data mining statistical approaches in clinical and cognitive neurosciences Ramanan et al. (2017) . For neonatal jaundice in newborns, predictive models using Naive Bayes, multilayer perceptron, and simple logistic were applied Ferreira et al. (2012) . The dataset consisted of 227 healthy newborns. Also in another study, Naive Bayes classifier and J48 decision tree algorithm were used for building predictive models for MERS-CoV infections Al-Turaiki et al. (2016) . The dataset used consists of 1082 records. In this paper we have used other applications of data mining on patient's data records provided in Hospital Information System (HIS). We have supposed patients as customers and tried to detect special types of patients and their behavioral tendencies with transactional data. We have used RFM (Recency Frequency Monetary) model as customer lifetime value (CLV) Khajvand et al. (2011) and marketing analysis methods for segmentation and prediction of model. In 1995, RFM defined as Recency, Frequency and Monetary. Recency is the period since the last purchase. A lower value corresponds to a higher probability of the customers to making a repeat purchase. Frequency is a number of purchases made within a certain period and higher frequency indicates greater loyalty. Monetary defines as the money spent during a certain period; a higher value indicates that the company should focus more on that customer Bult and Wansbeek, (1995) . In the healthcare system, higher frequency means referring of patients for all/more health needs to our hospital and this occurs when patients are satisfied with hospital services. Also the length of time that the patient has been in contact with us is a major factor that shows whether the patient has discontinued its relationship with us or not. We have added this factor to RFM model and used RFML model to evaluate patient's loyalty. The ultimate goal in the healthcare system is to have hospital and staffs who work well so that patients as customers refer again to this hospital if needed. In this way, patients will be satisfied as our loyal customers.\n\nIn this research a big public sector hospital (Shohadaye Tajrish Educational Hospital) has been studied. We selected three specialize clinics based on highest number of patients; the Cardiovascular, Neurology and Pediatric Hematology clinics. Three year Patients' data records were extracted from Hospital Information System (HIS). The numbers of transactions in these clinics were 19036, 41257, 3425 respectively that belonged to 8979, 22210, and 677 patients. Due to the nature of treatment industry and contrast between customer loyalty and patient loyalty, we selected outpatient data records. Outpatients select their preferred hospital with no referral by the doctor treating. The raw dataset consisted of socio demographic characteristics of patients, services that used in visit date, admission type, insurance type and amount paid. As regards, we wanted to use RFML model for evaluation of patients' categories, so R (recency), F (frequency), M (monetary) and L (length) attributes must be calculated. Then based on clustering model, weighted Life Time Value (LTV) was calculated for each cluster. We believe that greater amount of LTV represents more faithful customers and lower amount shows churn customers. So with the help of LTV amount, four clusters have been assigned into four class label of patient (loyal, potential for loyal, potential for churn and churn) to compare patients of three clinics. Also we used R, F, M and L attributes for classification of the model to predict churn behaviors of new customers and behavioral analysis of special current patients.\n\nFor identifying and comparison of different groups of patients in three clinics, k-means algorithm as a clustering technique was used. Also decision tree, na\u00efve base and neural network as classification techniques were applied for the churn prediction and finding the behavioral tendency of current patients based on R, F, M, L attributes. RapidMiner data analysis software was used for preprocessing data records, attribute selection and finally applying proper algorithms, which is the world-leading open-source system for data mining. The result showed that all three classification algorithms had a similar performance on the data records.\n\nAt first, clustering techniques were used to identify and compare different groups of three clinics. Clustering is a good technique to create a general understanding, when we don't have much information about the study population. K-means algorithm (k=4 groups; loyal, potential for loyal, potential for churn and churn) was performed on normalized fields (R, F, M and L) of three clinics to group customers that are similar to each other. Normalization is a preprocessing technique used to rescale attributes values and fit them in a specific range. For a fair comparison, all attributes should have the same scale when the clustering algorithm uses numerical measure such Euclidean distance. Plots and information of the groups in the Cardiovascular, Neurology and Pediatric Hematology clinics have been shown in Figure 1. c.\n\nb. a. Figure 1 . Plots of clustering model on Cardiovascular clinic data (a), Neurology clinic data (b) and Pediatric Hematology data (c).\n\nAs represented in table 1, 2 ,3, 4, 5 and 6, average numbers of patients' visit, average of total cost paid, average of the length of time the patients has been in contact with us and average of patients' last visit in four categories (cluster 0, 1, 2 and 3) have been calculated. Then, customer life time values have been calculated for each cluster according to the following formula. Analytic hierarchy process (AHP) was used to determine the relative importance or weights of the RFML variables, WR, WF, WM and WL. We used the questioner and interviewed with administrative managers and medical directors of ST Hospital to determine efficient factors affecting on patient loyalty and weights of the extended model. According to the assessments, the relative weights of the RFML variables are 4.5, 8.3, 8.2 and 4.9 respectively (scale is 1-10).\n\nCLV Ci = NR ci *W R + NF ci *W F + NM ci *W M + NL ci *W L The cluster with highest and lowest CLV considered as loyal group and churn customers respectively. In the Cardiovascular clinic, nearly half of patients (47%) were churned and only 1.3% was faithful customers who maintained their relationship with the hospital. These values in the Neurology clinic were 45%, 2.9% and in the Pediatric Hematology were 27% and 15.6% respectively. The Pediatric Hematology clinic performed better than both the Cardiovascular and Neurology clinics. This is because of the higher numbers of loyal customers and lower numbers of churn customers. In Table 7 , percent of each cluster in three clinics have been compared. Performance evaluation of clustering model was done by Avg. within centroid distance and Davies Bouldin criteria. In Table 8 , the performance of the algorithm has been shown. The average within cluster distance was calculated by averaging the distance between the centroid and all examples of a cluster. The less value is better. Also the algorithms that produce clusters with low intra-cluster distances (high intra-cluster similarity) and high inter-cluster distances (low inter-cluster similarity) will have a low Davies-Bouldin index. The clustering algorithm that produces a collection of clusters with the smallest Davies-Bouldin index is considered the best algorithm based on this criterion (rapidminer.com). \n\nThere are different types of information about patients that can be used for churn prediction model such as sociodemographics and transactional information that are recorded in hospital HIS system. In this paper, we have used transactional data include Recency, Frequency, Monetary and Length information about patients. Here, customers that had not referred in the last eighteen months of period (the 3-years period), were considered as the lost customer or churn. In this way, we calculated churn field as class attributes for all patients and run decision tree, na\u00efve Bayes and Neural network as classifiers. For more accurate modeling, all fields were discretizing to meaning groups (Table 9 ). Classification modeling helps us to identify behavioral tendencies of different customers. In this model, we can recognize trends of loyal and churn patients. More importantly, potential patients who can cut ties with the organization and also new customers can be identified. As regards, customer attraction several times cost than customer retention, specification of these customers will be very valuable. To detect behavioral tendencies of special customers of the clinics, we supposed 4 categories of patients; churn (C), potential for churn (PC), loyal (L) and new customer (N). In the following, the results of classification modeling by decision tree ID3 (the precursor to the C4.5 algorithm) for three clinics have been presented. Specific behaviors of four considered categories (churn, potential for churn, loyal and new customer) were extracted from decision tree rules (Table 10 ). It should be reminded that, all transactions of three years were considered as the period time of this research. Churn customers with low frequency, short period length with different amount of monetary were admitted in first year. Loyal customers were admitted in whole period for different services (different amount of monetary) and frequency more than one. The main character of loyal patients was that in the whole period, they were not disconnected to the hospital. New customer (N) and potential to churn (PC) groups were sensitive groups for organization, because we're not going to lose the attracted customers. PC customers with different frequency number, different amount of monetary and period length one year and less than one year were admitted in second year of whole period. As regards, the last visit was one year ago and these customers had not visited during the last year, maybe organization loses this group or not. Therefore, it is better to adopt marketing strategies to return these customers. N group with different frequency number, different amount of monetary and period length up to one year were admitted in third year of the whole period. This group was new patients who were new asset for the hospital. Hospital could attract this group with better services and appropriate behavior of hospital staffs. Table 11 shows accuracy of ID3 tree algorithm in three clinics. It worth noting, that accuracy of Na\u00efve bays and Neural Network algorithms are near to this one. Because of meaningful rules produces by Decision tree algorithm, this algorithm was selected. \n\nNowadays, hospitals in healthcare industry could implement CRM (customer relationship management) to improve relationship with their patients and take marketing strategies consequently to improve their profit. In this study we evaluated three clinics in ST public hospital in Tehran. At first, all patients were categorized to four groups. Then based on average of weighted CLV value of each category, four groups include loyal, potential for loyal, potential for churn and churn was identified. As depicted in table 7, Pediatric Hematology clinic despite of less customer numbers, had a better performance than that of other clinics. Because of more numbers of loyal customers (15.6 in comparison with 2.9% and 1.3%) and less number of churn customers (27% in comparison with 45% and 47%). This is also true that Neurology had a better performance than that of Cardiovascular clinic. There are several reasons for this. However, managers of Neurology and Cardiovascular clinics with high rate of churn and potential for churn customers must take policies to improve the efficiency of customer retention campaigns and to reduce the costs associated with churn. In the second part of the paper, behavioral tendencies of special group of patients were evaluated by churn modeling. ID3 decision tree classifier with high accuracy predicted churn behavior of the customers. In this way characteristic of PC, N and C customers were considerable. Hospital managers can predict current status of patients and prevent churn of them."}