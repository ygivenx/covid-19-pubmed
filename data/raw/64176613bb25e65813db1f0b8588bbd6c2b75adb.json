{"title": "Study in performance analysis of China Urban Emergency Response System based on Petri net", "body": "With the development of China industrialization and modernization, urbanization progress is in a steady way (Zhong et al., 2006a) . By 2008, the urban (town) population in China had exceeded 600 million. China has 655 cities in total, of which, 122 have a population over 1 million (NBSC) . In China, several city groups have come into shape preliminarily, including Zhujiang Delta City Group with Guangzhou and Shenzhen as the core, Changjiang Delta City Group with Shanghai as the core, Bohai Bay City Group with Beijing and Tianjin as the core, Liaodong Peninsular City Group with Shenyang and Dalian as the core, and other city groups along Changjian banks, Beijing-Guangzhou Railway, Beijing-Jiulong Railway and Long-Hai Railway. Therefore, urban capabilities in responding to various emergencies are of great importance to national economy and the people's livelihood.\n\nWith acceleration of urbanization process and constant expansion of city size in China, various emergencies due to natural, technological and human factors rise up one by one (Zhong et al., 2006b) . Accidents of such kind often cause serious deaths and injuries and huge property losses, and become serious threats to living quality of urban residents and safety of people's lives and properties. Breakout of severe acute respiratory syndrome (SARS) in 2003 is an example. Therefore, cities in China should take all possible and feasible measures to improve their capabilities in responding to various possible emergencies and strengthen their emergency response abilities to assure public security .\n\nAt present, Chinese UERS for public security is still in the developing stage. Current ERS could hardly satisfy mass citizens' requirements for assuring public security and responding to major emergencies and/or accidents. Such ERS mainly has the following defects:\n\nAbsence of unified urban public security management mechanism. Different functional departments have their own authorities and resources. It is often the case that a city has multiple public special service phone numbers, such as 110-public security, 119-fire alarm, 120-first aid and 122-traffic police. It is not easy for the public to keep them all in mind. And there are some other emergency phone numbers even more rarely known to common people. That city has no a centralized command and control system for all types of emergency sub-systems results in difficulties for different emergency command centers and departments to mutually support and coordinate timely and effectively. Their respective data resources cannot be shared so that some cities repeated construction of data resources and wasted their limited resources. As Emergency Response Systems are complicate, it is not easy for the public to remember and understand operating modes of different systems. When confronted with emergencies, urban residents cannot effectively coordinate and support mutually.\n\nIn view of the above adverse situations, the China government has integrated various limited resources to improve urban capabilities in responding to various emergencies and facilitate citizens be involved in improving and using UERS. In 2001, Nanning, a city in the Southwest of China, took the lead in setting up China's first Urban Emergency Response Center (UERC) and issued provisional regulations on UERS, realized joint operations by departments of public security, traffic police, fire fighting and medical first aid, unified command and control and resources share throughout overall process of emergency response and greatly improving Nanning's ability and efficiency in responding to various emergencies. As shown in Table 1 , great changes have been witnessed in number of police calls received by all types of policies before and after establishment of UERS. At present, Nanning's UERS receives about 4500 police calls every day on average. During the period from April 1, 2002 to June 26, 2002, Nanning's UERC received a cumulative total of 250,000 police calls, and over 40,000 valid recourses of all kinds were handled.\n\nAs shown in Table 2 , compared with developed large municipalities, Nanning Urban Emergency Response Center (NERC) is limited in various resources. Moreover a certain gap exists in both its callreceiving seats and call-processing seats. However, since its establishment, NERC has achieved encouraging results, cracking down various social criminal activities to a maximum extent and extremely facilitating urban fire fighting, emergent response to traffic accidents and first aids for citizens, as well as reducing losses of citizens' lives and properties. At present, Shanghai, Beijing, Qingdao, Changsha and other cities have begun to set up their own UERS.\n\nIn China, laws and regulations supporting UERS were also promulgated one by one. The main state laws include the Work Safety Act of the People's Republic of China, the Safety Management Statute of Chemicals, the Law of Occupational Diseases Prevention and Treatment of the People's Republic of China, the Social Order Management and Punishment Statute of the People's Republic of China, the Statute of Public Health Events Emergency Response, the Destructive Earthquake Emergency Response Statute, and the Law of the People's Republic of China on Earthquake Prevention and Disaster Alleviation. Such laws and regulations require that cities with matured conditions should establish UERS to respond to various emergencies. The current organizational structure of those built-up and under-construction UERS is shown in Fig. 1 .\n\nThe performance of UERS is of great importance for realization of its functions. In response to practical needs, many researchers such as Zografos et al. (2000 Zografos et al. ( , 1998 , Cohn et al. (1998) , Mendonca et al. (2000) , Fiedrich et al. (2000) , Pechinger et al. (2001) , Sang et al. (1999) , Strong and Irvin (1996) , Steve and Dave (2000) have done many studies in performance analysis of UERS. discussed spatial data and spatial analysis requirements for chemical monitoring and emergency response in detail and studied a chemical monitoring and Emergency Response System under development by combining GIS and expert system for both chemical distribution centers and public response personnel. Ford and Schmidt identify nine ways that emergency response training programs can be modified to improve the effectiveness of nuclear power plant personnel who must respond to accident conditions (Ford and Schmidt, 2000) . Chunlin et al. (1999) and Wang and He (2002) established a multi-objective dispatch model based on ''the earliest emergency-start-time\" and ''the fewest number of selected depots\". The optimal and worst solutions of each objective function are obtained, and the solution with the earliest start-time under the fewest number is found. Xin et al. (2000) studied the dispatching process of urban fire fighting using non-autonomous colored Petri net and simulated the dispatching process of the Shanghai 119 Command Center. The City of Chicago's Department of Environment developed and implemented a Flood and Storm Emergency Response Plan. Key components of the Plan included identification and prioritization of at-risk facilities, design of mitigation measures, preparedness, procurement of additional floodfighting equipment, and designation of available resources for response and recovery. Since 1997 the plan has been activated several times, with the result that disruption and damage to Lake Shore Drive and other City infrastructure has been reduced (Wagstaff and Ferguson, 2002) .\n\nHere, we introduce in Petri net to study the performance of Chinese typical UERS integrating 110, 120, 119, and 122.\n\nPN is proposed by Dr. Petri in 1962 when he developed information flow model for computer operation system (David and Alla, 1994) . At present, PN is extensively applied to performance analysis and control research for discrete event dynamic system. As a system model, PN is dynamic and concurrent. In PN standard graphic presentation, the sign ''O\" indicates place and the sign ''|\" or pane indicates transition (Yuan, 1998) .\n\n(1) Definition: in general, a Petri net is defined as the following:\n\nwhere (1) P = {p 1 , p 2 , . . . , p n }, n > 0, refers to the finite set of place;\n\n(2) T = (t 1 , t 2 , . . . , t m ), m > 0, refers to the finite set of transition and satisfies P \\ T \u00bc / and P [ T -/. Here / is null set; (3) F is an ordered pair set consisting of P and T and satisfies F # P \u00c2 T [ T \u00c2 P; (4) K is a capacity function;\n\n(5) W is a weight function, weighting all arc lines. x(p, t) or\n\nx(t, p) is used to denote the weight of directed arc going from p to t or from t to p; (6) M is the marking reflecting token distribution in all places in the Petri net.\n\n(2) Enabling and stimulation rules of transition:\n\n(1) Transition t 2 T is enabled, when and only when in respect of all p 2 P, x(p, t) = 1, M(p) > 0;\n\n(2) After the enabled transition t is stimulated by the marking M, a new marking M 0 is generated, in respect of 8p 2 P, is: \n\n2.2. Theoretical basis of system performance analysis using Petri net\n\nTraditionally, in appraisal of system performance, the Queuing Theory is used to describe system. PN provides a new description tool for system performance analysis (Jiacun et al., 2000) . Description of a system by PN is usually based on two concepts: event and state. Petri net is not only a kind of graphic presentation of a system, what's more important, it also provides the mathematical description of the system (Lin, 2000) .\n\nTo describe the dynamic action of a system, execution of the processing task can be denoted with corresponding transition activation. In the Petri net, the moving of tokens represents the information process. The markings of the Petri net represent the special state of the system. Forward markings decide the set of all possible states of the system with a given initial state. In the continuoustime stochastic Petri net, one transition needs certain time delay from being generable to practical execution, that is, the period from a transition being generable to its execution is regarded as a continuous random variant which is subject to exponential distribution. It has been proved that a stochastic Petri net is isomorphic to a continuous-time MC. Application of stochastic Petri net to system performance analysis includes the following steps (Rongxi, 1997) :\n\nSet up the stochastic Petri net model for the system. Define possible states of the stochastic Petri net, that is, derive its reachable marking set. Build up the isomorphic MC of the stochastic Petri net. Analyze the system performance based on the stable probability of MC.\n\nBased on its stable probability, we can further analyze the system performance indexes and time characteristics, analyze the busyness and work efficiency of the whole systems or transitions, identify main factors affecting the system performance and analyze the resources distribution and optimization plans for the system under different command and dispatch methods.\n\nToday, China's built-up or to-be-built-up UERS can handle citizens' various alarm and help calls in 24 h a day. Such systems may command and control all fielded public security, traffic police, fire fighting and first aid resources, help emergency controllers to select best resources to make quick response to emergencies. Developed countries generally use single special service phone number for emergency, such as 911 in US, 999 in UK, 110 in Japan and South Korea and 900 in Sweden (Farazmand, 2001 ). However, UERS in China is still in the stage with multiple emergency service phone numbers co-existing. Urban emergency phone numbers generally include mayor's open number, 110 for public security, 119 for fire fighting, 120 for first aid, 122 for traffic police, 12315 for consumers' complaints, and 148 for legal aid number. Such command systems and information network system share various resources and realize unified inter-function and inter-alarm-area command and control among different alarms. China's built-up UERS allow municipal leaders to call officials responsible for different departments in the emergency center during major events to carry out special command and control for dealing with such events. Wireless communication systems facilitate two-way transmission of voice, file and picture data between the emergency center persons on the event site. The truck-mounted wireless group communications station may be used as the temporary field command center, and may also be used to provide field emergency command communications for the blind zone of certain wireless group communication. The satellite image transmission system may transfer real-time field situations of major events to the emergency response center. Powerful data checking functions and wireless data transmission terminals facilitate field operators and command and control persons in the center to call various information in the center as well as on the truck on the mission. The main procedure of emergency response of UERS is shown in Fig. 2 .\n\nAccording to operational characteristics of UERS, here, we analyze the joint response system of four types of alarms: 110 for public security, 119 for fire fighting, 120 for first aid and 122 for traffic police. Analysis of other sub-systems would be similar on the whole. Specific steps for modeling are as follows (Gu, 1999) :\n\n(1) Command and control for the four types of alarms: 110 for public security, 119 for fire fighting, 120 for first aid and 122 for traffic police may include the following processes: receiving alarms, determining the emergency alarm level, dispatching rescue force, sending out rescue force, carrying out rescue and finishing rescue. (2) Defining the PN model for all emergency processes:\n\n1. defining the meanings of all elements in P and T; 2. defining the emergency state corresponding to the element P on each place; 3. defining the transition processes corresponding to each transition element T; Fig. 3 shows the PN model for the rescue, command and control process of UERS for major events. According to the above analysis steps, we make the following performance analysis of the UERS shown in Fig. 3 . Means of all places and transitions in the Figure are as follows.\n\nFinite set of places, P; P 1 : emergency response center is on duty; P 2 : there is emergency call; P 3 : preliminarily get to know about the emergency; P 4 : there is no need to send out rescue force; P 5 : judging fire alarm grade; P 6 : stage of fighting fire; P 7 : fire fighting brigades are on duty; P 8 : judging the state of illness; P 9 : patient on the way for first aid; P 10 : 120 emergency team are on duty; P 11 : judging seriousness of social emergency; P 12 : processing stage for social emergency; P 13 : 110 public security team are on duty; P 14 : judging grade of traffic accident; P 15 : processing stage for traffic accident; P 16 : traffic police team are on duty; P 17 : summarize information.\n\nFinite set of transition, T; t 1 : handle alarm call of emergency; t 2 : decide not to send out police force for the emergency; t 3 : define the fire as emergency; t 4 : send out fire fighting detachment; t 5 : extinguish fire and the fire fighting brigades return home station; t 6 : define the event as emergency under 120 control; t 7 : send out ambulance and rescue crew; t 8 : carry the patient to a hospital; t 9 : define the event as emergency under 110 control; t 10 : send out public security force; t 11 : 110 finishes handling emergency 110; t 12 : define the event as traffic emergency; t 13 : send out traffic police to handle the accident; t 14 : finish handling the traffic accident site; t 15 : report information of various emergencies; t 16 : explanations on decision not to send out persons and sorting out information.\n\nAs shown in Fig. 3 , the structure of Petri net model for rescue, command and dispatch process of UERS for major emergencies has concurrent operations, divergences, convergence and conflicts. From the qualitative analysis, we find:\n\nThere are conflicts from P 3 to t 2 , t 3 , t 6 , t 9 and t 12 . The information on various emergencies may accumulate at P 17 . Performance of the UERS in response to emergencies relies on its initial state to a certain extent.\n\nTo gain the isomorphic MC of Petri net for rescue, command and control process of UERS for major events, we assume the activation time of each transition as a time random variant subject to exponential distribution. The average activation rates of t 1 , t 2 , t 3 , . . . , t 16 are k 1 , k 2 , k 3 , . . . , k 16 respectively.\n\nIf the initial marking of Petri net for rescue, command and control process of UERS for major events is M 1 = (1, 1, 0 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0), it indicates that there is one token in each of P 1 , P 2 , P 7 , P 10 , P 13 and P 16 . To simplify writing, we write M 1 as M 1 = (1, 2, 7, 10, 13, 16) . From this, we can get the reachable marking sets of all activation, and then get the following system state sets: M 1 = (1, 2, 7, 10, 13, 16); M 2 = (1, 3, 7, 10, 13, 16); M 3 = (1, 4, 7, 10, 13, 16); M 4 = (1, 5, 7, 10, 13, 16); M 5 = (1, 6, 10, 13, 16); M 6 = (1, 10, 13, 16, 17); M 7 = (1, 7, 8, 10, 13, 16); M 8 = (1, 7, 9, 13, 16); M 9 = (1, 7, 10, 11, 13, 16); M 10 = (1, 7, 10, 12, 16); M 11 = (1, 7, 10, 13, 14, 16); M 12 = (1, 7, 10, 13, 15).\n\nAccording to 12 states of Petri net for rescue, command and control process of UERS for major events: M 1 ; M 2 ; M 3 ; M 4 ; . . . ; M 12 , we can get its isomorphic MC shown in Fig. 4 . The directed arc in Fig. 4 represents the transition of Petri net for rescue, command and control process of UERS for major events from one state to another.\n\nHere we assume p(M i ), (i = 1, 2, . . . , 12) as the probability of the system state M i when Petri net for rescue, command and control process of UERS for major events is in the stable state, and we can get the system state probabilities expression: k 1 p\u00f0M 1 \u00de \u00bc k 2 p\u00f0M 2 \u00de \u00fe k 3 p\u00f0M 2 \u00de \u00fe k 6 p\u00f0M 2 \u00de \u00fe k 9 p\u00f0M 2 \u00de \u00fe k 12 p\u00f0M 2 \u00de k 2 p\u00f0M 2 \u00de \u00bc k 16 p\u00f0M 3 \u00de k 3 p\u00f0M 2 \u00de \u00bc k 4 p\u00f0M 4 \u00de k 4 p\u00f0M 4 \u00de \u00bc k 5 p\u00f0M 5 \u00de k 15 p\u00f0M 6 \u00de \u00bc k 5 p\u00f0M 5 \u00de \u00fe k 8 p\u00f0M 8 \u00de \u00fe k 11 p\u00f0M 10 \u00de \u00fe k 14 p\u00f0M 12 \u00de \u00fe k 16 p\u00f0M 3 \u00de k 6 p\u00f0M 2 \u00de \u00bc k 7 p\u00f0M 7 \u00de k 7 p\u00f0M 7 \u00de \u00bc k 8 p\u00f0M 8 \u00de k 9 p\u00f0M 2 \u00de \u00bc k 10 p\u00f0M 9 \u00de k 10 p\u00f0M 9 \u00de \u00bc k 11 p\u00f0M 10 \u00de k 12 p\u00f0M 2 \u00de \u00bc k 13 p\u00f0M 11 \u00de k 13 p\u00f0M 11 \u00de \u00bc k 14 p\u00f0M 12 \u00de P 12 i\u00bc1 p\u00f0M i \u00de \u00bc 1\n\nSolving the above linear equation set, we can get the stable probability of possible states of the UERS. From the stable probability, we can find out how to improve the operational efficiency of the whole system through changing speeds of certain processing links. It plays an important practical role in speeding up and facilitating the system to deal with various urban emergencies.\n\nHere, we assume the values of k 1 , k 2 , k 3 , . . . , k 16 of t 1 , t 2 , t 3 , . . . , t 16 respectively. Assuming that k 2 = 6, k 3 = 5, k 4 = 2, k 5 = 2, k 6 = 10, k 7 = 9, k 8 = 6, k 9 = 9, k 10 = 8, k 11 = 7, k 12 = 4, k 13 = 2, k 14 = 2, k 15 = 3 and k 16 = 6, and changing the value of k 1 , we can get Fig. 5 . Then assuming that k 1 = 20, and values of k 3 , . . . , k 16 remain unchanged, we change the value of k 2 and get Fig. 6 . We continue the same way and get Figs. 7-14. In the above Figures,  PM1, PM2 , . . . , PM12 represent the stable probability of the UERS in the states M 1 , M 2 , M 3 , M 4 , . . . , M 12 respectively.\n\nIn Fig. 5 , if k 1 increases, that is, if the call-receiving frequency of UERS increasing, the probability for UERS to be idle declines remarkably, and the probability for the system to be in busy states increases. In particular, the probability for the system to be in the information summarizing state increases most quickly.\n\nIf the frequency for UERS to decide not to send out police force increases and activation rates of other transitions remain the same, the probabilities for UERS to be in the state of not sending out police force and in the state of information summarizing increase, and the stable probability for the system to be in other states decline shown in Fig. 6 If k 3 , the activation rate identifying alarm as fire increases, the probability for the whole system to be in the state of processing fire increases remarkably. And at this moment, the focus of UERS transfers to work in relation to fire processing, and the stable probability for UERS to be in other states decline shown in Fig. 7 .\n\nIf k 4 increases, that is, if the frequency for UERS to send out fire fighting team increases, the probability for UERS to be in the state of extinguishing fire increases, fire accidents waiting for processing declines remarkably, and little fluctuation can be seen in the stable probability for UERS to be in other states shown in Fig. 8 .\n\nIf k 5 , frequency for UERS to extinguish fire increases, the probability for UERS to be in the state of information summarizing increases. As shown in Fig. 9 , the more accidents under processing are, the more relevant information to be reported to upper-level will be. But frequency of fires to be extinguished declines remarkably and little fluctuation can be seen in the stable probability for UERS to be in other states. If the information report frequency, k 15 increases, the stable probability for UERS to be in the state of information waiting for processing declines remarkably, and small increase can be seen in the stable probability for the system to be in other states shown in Fig. 10 .\n\nIf k 16 increases, the probability of information on not sending out police force that is waiting for processing declines remarkably, and small changes can be seen in the stable probability for the system to be in other states shown in Fig. 11 .\n\nFigs. 12-14 describe situations of 110 for alarm service station. The analysis process is similar to Figs. 7-9 that describe the fire processing. Similar analysis can be made for the system state of other alarm service stations. We are not going to repeat such analyzes here. In addition, such analysis results are in conformity with practical operational performance of China current UERSes such as Nanning UERS (Lan et al., 2003) .\n\nUERS deals with discrete events in most cases. How to address the relationship between changes of state and process of discrete events and the system state is the problem to be resolved in China's current urban emergency response. To a larger extent, this is because that China UERSes are built-up based on original multiple emergency alarm stations.\n\nSometime, urban emergency response is not only a city's internal issue. Poor emergency response may lead to adverse effects on other cities or regions, even other countries. Spreading of SARS is an example. Therefore, sometimes, it is required that the UERS can not only response effectively to its city's internal emergencies, but also can take measures quickly against the city's external emergencies, so as to ensure the city to prevent from or alleviate external effects, or minimize damages of the city's emergencies to other cities as possible.\n\nHere, we introduce PN model for performance analysis of China's typical UERS. In the model, parameters k 1 , k 2 , k 3 , . . . , k 16 have practical physical meanings, and their values are measured from practical operation of UERS. Such values may vary from system to system. Performance analysis of UERS is a very complicated problem to be researched. Performance of the system not only relates to the above states, but also relates to quality of staff dealing with emergencies, weather, environment and other factors. This paper only analyzes performance of China's typical UERS consisting of 120, 110, 119 and 122 alarm stations, and the simulation results are in conformity with practical operation of China's existing UERSes. "}