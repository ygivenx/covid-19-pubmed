{"title": "Reducing Energy Consumption and Overhead Based on Mobile Health in Big Data Opportunistic Networks", "body": "Life, in developing countries, can not be protected by medicine because the medical technology is underdeveloped and the population is large. One of the result is that patients with light illness may get serious even cause a disastrous infection. Finally developing countries have to spend a great amount of personnel and finance to solve the problem.\n\nChina, as a representative of developing countries in Asia, suffered a disaster because of the uneven distribution of the limited medical resources and the huge population problem. In 2003, the SARS virus which originated from China [1], affected the whole Asia and caused serious consequences. Thousands of people are affected and many of them dead. If the early affected patients had chances to consult doctors and get treatments, they may not get serious and disastrous infection could be prevented.\n\nIn China, a country with a population of more than 1.3 billion, the shortage of health resources is serious. 5000 people share one doctor in average, and a doctor has to treat 50 patients 1 day at most according to the statistics data in 2013 from China\u2019s ministry of health [2]. There is another data, a hospital in a big city, the average amount of treatment reaches 1 million people a year; a better hospital holds 3.5 million treatments per year.\n\nThere is another record in China that there are more than 700 million mobile phone users. This is a big data in mobile network. With the development of 3G and 4G mobile technology, the mobile phone signal covers every city. People can communicate with each other and check information by mobile devices wherever there are 3G and 4G signals [3]. Everyone may check medical information such as health care, epidemic prevention, and equipment of hospitals by mobile devices when the data of hospitals are shared on the web platform. By this method, the medical resources can be utilized the most and serve the patients better. At the same time, symptoms can be sent to the doctor immediately by the mobile device, by which doctor can judge and give an electronic treatment to the patient. In this condition, hospitals are open to millions of people. This is a revolution in IT technology.\n\nThere are some problems that the mobile network may not be able to transmit such a big data successfully; the data may not arrive on time; and the mobile terminal may not able to store so much data. So it needs a new transition network to solve. As a kind of ad hoc network, the greatest characteristic of the opportunistic network [4, 5] is the transmission way among nodes are \u201ccarry-store-transfer\u201d. If a node is not in the communication area, the node will store the information and move to transmit it to the next-hop node [6]. There is no need complete link in opportunistic networks. The communication is accomplished by nodes movement. The information transmission in opportunistic networks is diffused. This feature makes the opportunistic network can be adopted in Mobile Health [7]. Persons store health information and transmit them among each other by mobile devices. People can share information anywhere even without the mobile signals [8].\n\nAlthough the problem in big data research is a common that happens in the mobile computing environment, is not only limited in the health application. So, there are some problems must be considered when mobile health is applied in big data communication in the paper. Such as:How to select available data to reduce energy consuming when mobile device receives or sends messages?How to improve available data receiving in limited storage space when mobile device receives messages?How to improve deliver ratio according to transmit electronic medical record.\n\n\nThis paper founds availability data transmission routing algorithm (ADTRA) in big data opportunistic network. This algorithm can judge routing request and predict data data packets and then can overhead, energy consumption and deliver ratio in transmission.\n\nResearch methods in opportunistic networks focus on routing algorithms. These algorithms can be applied by different fields when researchers improve characteristics in opportunistic networks. There are some algorithms in opportunistic network as follow.\n\nHuang et al. [9] suggest an algorithm is called Epidemic algorithm. As Store-and-forward mechanism, Epidemic algorithm shows the transmission mechanism of infectious diseases. The characteristic of this algorithm is two nodes exchange messages that not stored when two nodes meet. Nodes reach the target node and transmit message can be ensure the shortest path with much network channels, cache spaces etc. In big data environment, however, the congestion could happen in transmitting when increase of the nodes. In the application of mobile health in big data, this method can not get good effect since the limitation of the resource.\n\nSpyropoulos et al. [10] suggest the Spray and wait algorithm which is based on the Epidemic algorithm. This algorithm considers that two steps which are spray step and wait step. In spray step, the source node focuses the neighbors. Then source node transmits messages to the nodes around in a way of spraying. In wait step, messages are transmitted to the target node to fulfill the process of transmission unless there is no available node can be found in spray step. This method is a modified algorithm which improves the flood-transmission. But the spray step may cause source nodes waste when this method is applied of big data environment because increasing nodes. That is to say, there are a great mount of neighbors which consume much overhead and energy by source nodes. Hence this algorithm may cause nodes death by over spraying of the source nodes.\n\nSearle et al. [11] suggest PRoPHET algorithm in opportunistic network. This algorithm improves the utilization of opportunistic network by counting the available messages transmission nodes around and calculating the appropriate delivery nodes to form message groups. But in big data environment, a number of counting need much time. So it is not suitable when this algorithm is applied of mobile health big data environment. The condition is same as MV algorithm. Cui et al. [12] suggest MV algorithm which is based on probability can calculate the transmission probability by records statistics in the light of the nodes meeting and area visiting.\n\nBurgess et al. [13] suggest MaxProp algorithm found upon array setting priority. The feature of this algorithm is that the transmission sequence is determined by the settled array priority when two notes meet. This method may reduce the consuming of the resource by setting the reasonable sequence of message transmission. But in big data transmitting, it is hard to establish sequence because nodes movement lack of regular pattern.\n\nMusolesi et al. [14] suggest Context-Aware routing algorithm according to calculating the transmission probability of the source nodes getting the target nodes. This algorithm gets the middle node by calculating the cyclic exchange transmission probability, then collects and groups the message to guide the middle node to transmit the message directly to the node with higher transmission probability. This algorithm lacks of high deliver ratio when nodes increase. In big data environment, it is hard to acquire high deliver ratio.\n\nFrom what has been discussed above, ADTRA needs to solve energy consumption, overhead and deliver ratio when the algorithm is applied of big data environment. The next work is how to design algorithm.\n\nIn the real world, patient personal data are confidentiality. At the same time, diagnosis suggests from doctors are protected. Thus, effective data in mobile health are only predicted disease and therapeutic schedule, especially in underdeveloped areas, it is good for patients and doctors to judge disease.\n\nIn this paper, effective data in mobile health contain diagnose pictures, diagnosis collection in clinic, data in history diagnosis, diagnostic reports, electronic patient record and so on.\n\nIn big data mobile health environment, model design is show as Fig. 1.\n\n\nIn Fig. 1, P shows patients; R shows patient\u2019s relationships. When patients and hospital establish relationship, hospital or doctors send messages to the patients by mobile devices, as long as the patients in the hospital\u2019s communication area. Patients receive the messages from the hospital, and then they can put forward data to their own relationships. In this way, patients do not go to a hospital looking over their inspection results, the stress will be reduced in hospital from undertaking transfer of personnel. Patient relationship may get results with the patient\u2019s devices according to the data transmission model.\n\nThis communication model likes opportunistic network. All the messages are transmitted by non-link. The scheme of model design can choose opportunistic network as communication method according to the characteristic of opportunistic network. In opportunistic network, all the roles would become nodes. They can transmit messages with no link, and messages can be stored by devices. This process is in Fig. 2.\n\n\nFigure 2 shows data transmitting in big data mobile health environment. Effective data packets are recorded by sensor devices and they can transmit to mobile devices. According to data collection, all the data can be sent to hospital and doctors. Data will be analyzed. Hospital and doctors receive patients\u2019 request by mobile devices. This request contains patients\u2019 check indicator, illness describing, and patient requirement and so on. Doctors diagnose the condition of patients\u2019 index from mobile device, and then give treatment list for patients. Patients can download list and look over diagnostic results. At the same time, patients may send these results to their relationships. All the processes can be established by 3G or 4G network environment, users may only have a mobile device completed diagnoses. Patients and doctors are nodes in big data opportunistic network, they can transmit information by moving. In this communication method, patients and their relationships need not go to hospitals; they may save money and time. Hospitals can also reduce the stress of populations and guarantee work efficiency. In large population counties, this model may reduce finance with hospital beds, because patients can get medical service at home when they connect their mobile devices.\n\nIn big data communication, storage space of mobile devices are limit, we can not receive all the data when a great number of data packets are created in clinic. How to select effective data become important work.\n\nFigure 3 is diagnosing pictures in PET-CT. It is formed of 12 pictures. There are eight pictures contain yellow-bright areas (SUV Concentration), four pictures display scanning location. For doctors, they judge pathological changes only four pictures in Fig. 3, and then they can point effective images (picture 4, 8, 9 and 12 are marked circle. Picture 8 is maximum concentration area). Accurate marked can help doctors decision-making.\n\n\nBut in the real condition, each patient may have over more 600 pictures. Only 40 pictures may adopt by doctors. Effective data is 6.67 %. Moreover, 600 pictures approximate 1.5G storage space in device. In wireless communication, if doctors or hospitals send all pictures to patients, many network resource must be wasted, especially in big data environment, mass of people join in transmission, there are no enough space storing effective information.\n\nFigure 4 is collection data in clinic. For a patient in hospital, there are 80 M per day stored in database. However, only 1 % data are abnormal. That is to say, 1 % in transmission can help patient and doctor judge disease, 99 % data are useless. In order to keep 1 % effective abnormal data, we must waste a great number of space.\n\n\nNot only that, patient in clinic may display normal in a day. It seems in Fig. 4 in the morning. But at night, a short moment in clinic, heart rate, blood pressure and blood supply may change very soon. It is dangerous for patient. Those data are important to save life and analyze illness.\n\nFrom what has been discuss in those figures, it is important to select effective data when we consider to save storage space and transit effective data packets, especially in big data communication environment. So in big data communication, how to make data decision and select effective data is the key.\n\nIn big data communication, a great number of electronic medical record (EMR) are commuted in wireless devices. Table 1 shows an EMR for a patient in hospital.\n\n\nFrom Table 1, we can see that many type of documents are records in hospital. For a patient, an EMR may occupy 2G storage space and documents conclude different types in database. It is hard to diagnose directly for one or two doctors at moment. Moreover, if all documents which have not been judged by doctors are transmitted by devices in wireless, there are not enough network resource could be used. More seriously, data packets which contain important records for patients would loss. It is insecurity when EMR are transmitted between people. Thus, we must consider how to select effective data in EMR.\n\nFigure 5 is data decision tree in EMR. The root of the decision tree is a patient. The first layer is the basic information assemblies of the patient. The second is sub-assembly, which records detail information. The third layer is diagnosis category. It contains many kinds of parameters. This process in hospital is completed by medical treatment machine.\n\n\nTraditional method in wireless networks may deliver all diagnosis categories to patients and doctors. In order to reduce energy and overhead in transmission, new method must decrease data packet transmission. We can set normal range of parameters in decision layer. Abnormal data and normal parameter are selected by devices. All the decision data assemble from K\n1 to K\nn which can help doctor and patient to judge illness.\n\nFigure 6 shows data assemble exchanging between patients and doctors. Patients send request as data packets. These data packets include diagnostic reports, electronic patient record and image information. When doctors receive these data packets, they can judge patients illness condition and give a treatment recommendation. At the same time, doctors may select a part of effective data which are recorded patient results from medical instruments. From K\ni to K\nn are data packets in EMR data decision. When doctors receive request from patients, they may suggest some important patient results data packets such as K\ni to K\nj and K\nm to K\nn. In this way, patients need not download the whole data packets and then they can know therapeutic regimen clearly.\n\n\nThe process of exchanging data packets are finished by APP device(Accelerated Parallel Processing device). Effective data packets reduce energy consumption and overhead. Patients select effective data packets by mobile device from anywhere and anytime in big data environment. It is not only convenient receive and send messages, but also improve the application for mobile device and mobile health.\n\nThis communication likes opportunistic network. All the messages are transmitted by non-link. Next work is how to design effective scheme of big data mobile health in opportunistic network.\n\nMobile devices must cost energy consumption in big data mobile health when these send and receive messages. If it is cost energy more than the node storage, the node would die or the device would not work. Messages can be send and received on the condition that E \u2264 E\n0, E is send data packets consumption, E\n0 is storage energy by node.\n\nEnergy consumption in opportunistic network comes from data transmission, signal processing, and hardware operation. Particularly in data transmission, we consider energy consumption in scan, data transmission, and received data. These factors establish some models.Energy consumption in scan shows energy consumption in scan channel with node. Each scan consumes e\ns. Scan period is T. Energy consumption E\ns for node is 1\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$E_{s} = e_{s} \\times \\frac{t}{T}$$\\end{document}Es=es\u00d7tTwhere t shows working time with node.Energy consumption is in transmission. The sent data packet needs to consume energy. Each sent data packet must consume e\nt. p\nt data packets are transmitted. Energy consumption in transmission E\nt is: 2\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$E_{t} = e_{t} \\times p_{t}$$\\end{document}Et=et\u00d7pt\nEnergy consumption is in receiving. The condition is the same as receiving data packets by nodes. Each data packet received must consume e\nr. p\nr data packets are transmitted. Energy consumption in transmission E\nr is: 3\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$E_{r} = e_{r} \\times p_{r}$$\\end{document}Er=er\u00d7pr\n\n\n\nFrom Eqs. (1)\u2013(3), energy consumption E\nc and surplus energy E\nsur are4\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$\\left\\{ \\begin{aligned} &E_{c} = E_{t} + E_{r} + E_{s} \\hfill \\\\ &E_{sur} = E_{0} - E_{c} \\hfill \\\\ \\end{aligned} \\right. .$$\\end{document}Ec=Et+Er+EsEsur=E0-Ec.Energy can be calculated easily according to the established energy assessment model.\n\nFrom energy assessment model, we can found a functional relation between node and neighbor when they send and receive message.\n\nIn opportunistic network, each node sends data packets to neighbors consuming energy E\ns + E\nt. If node has n number neighbors and sends p\nr data packets to a neighbor. The energy consumption for a node E is:5\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$E = E_{s} + E_{t} = \\left( {e_{s} \\times \\frac{t}{T} + e_{r} \\times \\sum\\limits_{i = 1}^{r} {p_{r} } } \\right) \\times n$$\\end{document}E=Es+Et=es\u00d7tT+er\u00d7\u2211i=1rpr\u00d7nIn ADTRA, p\nr is decided by neighbor requests. But in Spray and wait algorithm, each node sends uniform number \\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$\\bar{p}$$\\end{document}p\u00af. It is obvious that \\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$p_{r} \\le \\bar{p}$$\\end{document}pr\u2264p\u00af, because in Spray and wait, all data packets are transmitted from node to neighbors when it carries. However in Binary spray and wait, each node sends uniform number \\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$\\frac{{\\bar{p}}}{2}$$\\end{document}p\u00af2. If effective data packets for ADTRA are half with the total, that is to say \\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$p_{r} \\le \\frac{{\\bar{p}}}{2}$$\\end{document}pr\u2264p\u00af2 ,energy consumption of ADTRA is less than Binary spray and wait; else \\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$p_{r} \\succ \\frac{{\\bar{p}}}{2}$$\\end{document}pr\u227bp\u00af2 when effective data packets for ADTRA are less than half of total.\n\nThere is a pair of close relationship between overhead and data packet transmission. If node sends data packets to neighbors, it may cost overhead. In normal, overhead in opportunistic network shows load level with node. High overhead may bring low deliver ratio and high transmission delay. The more data packets are transmitted, the more overhead may cost with node. Especially in big data mobile health environment, reduce overhead may improve network quality.\n\nAssume that among doctors, patients and hospitals are nodes. Overhead in one transmitting o is:6\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$o = \\overline{{o_{s} }} \\times p_{t}$$\\end{document}o=os\u00af\u00d7pt\n\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$\\overline{{o_{s} }}$$\\end{document}os\u00af is shown average overhead with each node, then \\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$\\overline{{o_{s} }} = \\frac{{\\sum\\nolimits_{i = 1}^{n} {o_{i} } }}{n}$$\\end{document}os\u00af=\u2211i=1noin. o\ni is overhead with nodes in opportunistic network.\n\nIf node has n number neighbors and sends p\nr data packets to a neighbor. Overhead O in opportunistic network is:7\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$O = \\overline{{o_{s} }} \\times n \\times \\sum\\limits_{r = 1}^{n} {p_{r} }$$\\end{document}O=os\u00af\u00d7n\u00d7\u2211r=1nprIt is the same condition in energy consumption, in Spray and wait algorithm, each node sends uniform number \\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$\\bar{p}$$\\end{document}p\u00af and in Binary spray and wait, each node sends uniform number \\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$\\frac{{\\bar{p}}}{2}$$\\end{document}p\u00af2. Overhead in ADTRA is less than Spray and wait, because \\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$p_{r} \\le \\bar{p}$$\\end{document}pr\u2264p\u00af. If effective data packets for ADTRA are half with the total, that is to say \\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$p_{r} \\le \\frac{{\\bar{p}}}{2}$$\\end{document}pr\u2264p\u00af2 ,overhead in ADTRA is less than Binary spray and wait.\n\nData packet deliver ratio is most important parameter on network. In big data mobile health environment, high deliver ratio can be guaranteed messages to send and receive successful among patients and doctors. And then integrality for patient electronic medical record, doctor diagnostic result can be protected.\n\nThe deliver ratio has some relationships among energy consumption and overhead when storage and energy limit with nodes. Nodes in opportunistic network can not give service when overhead is flood and energy is empty. It likes mobile device can not as normal. So deliver ratio is founded by triad function:8\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$D^{{\\left\\{ {peer \\, to \\, peer} \\right\\}}} = f\\left( {E,O,p^{{\\left\\{ {peer \\, to \\, peer} \\right\\}}} } \\right)$$\\end{document}Dpeertopeer=fE,O,ppeertopeer\n\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$D^{{\\left\\{ {peer \\, to \\, peer} \\right\\}}}$$\\end{document}Dpeertopeer shows deliver ratio between nodes,E shows energy consumption,O shows overhead. \\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$p^{{\\left\\{ {peer \\, to \\, peer} \\right\\}}}$$\\end{document}ppeertopeer shows transmitted data packets between nodes. And then \\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$p^{{\\left\\{ {peer \\, to \\, peer} \\right\\}}}$$\\end{document}ppeertopeer is:9\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$p^{{\\left\\{ {peer \\, to \\, peer} \\right\\}}} = \\frac{{p_{r} }}{{p_{s} }}$$\\end{document}ppeertopeer=prps\np\nr is received data packet, p\ns is sent data packet.\n\nThe average of deliver ratio among nodes is:10\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$\\overline{{D^{{\\left\\{ {peer \\, to \\, peer} \\right\\}}} }} = \\frac{{\\sum\\nolimits_{k = 1}^{n} {D_{k}^{{\\left\\{ {peer \\, to \\, peer} \\right\\}}} } }}{n}$$\\end{document}Dpeertopeer\u00af=\u2211k=1nDkpeertopeern\n\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$D_{k}^{{\\left\\{ {peer \\, to \\, peer} \\right\\}}}$$\\end{document}Dkpeertopeer shows deliver ratio between two nodes, n shows nodes quantity.\n\nThe average deliver ratio between nodes according to Eqs. (9), (10) is:11\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$\\begin{aligned} \\overline{{D^{{\\left\\{ {peer \\, to \\, peer} \\right\\}}} }} & = \\frac{{\\sum\\nolimits_{k = 1}^{n} {D_{k}^{{\\left\\{ {peer \\, to \\, peer} \\right\\}}} } }}{n} \\\\ & = \\frac{{\\sum\\nolimits_{k = 1}^{n} {f\\left( {E_{k} ,O_{k} ,p_{k}^{{\\left\\{ {peer \\, to \\, peer} \\right\\}}} } \\right)} }}{n} \\\\ \\end{aligned}$$\\end{document}Dpeertopeer\u00af=\u2211k=1nDkpeertopeern=\u2211k=1nfEk,Ok,pkpeertopeernEnergy consumption E\nk and overhead O\nk are functions about p\nk according to Eqs. (5), (7).\n\nSo Eqs. (11) can be shown as:12\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$\\overline{{D^{{\\left\\{ {peer \\, to \\, peer} \\right\\}}} }} = \\frac{{\\sum\\nolimits_{k = 1}^{n} {f(E_{k} (p),O_{k} (p),p_{k} )} }}{n}$$\\end{document}Dpeertopeer\u00af=\u2211k=1nf(Ek(p),Ok(p),pk)nDeliver ratio is a function about data packet p according to Eqs. (5), (7), (12).\n\nIf messages are delivered by nodes have enough energy and overhead. The deliver ratio is decided by rate of neighbor receiving data packets and node sending data data packets. That is \\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$D = \\frac{{D_{r} }}{{D_{s} }}$$\\end{document}D=DrDs. To the whole network, average of deliver ratio \\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$\\overline{D}$$\\end{document}D\u00af is:13\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$\\overline{D} = \\frac{{\\sum\\nolimits_{i = 1}^{n} D }}{n}$$\\end{document}D\u00af=\u2211i=1nDnIt tests and verifies average of deliver ratio by simulation.\n\nIn network communication, transmission delay is a problem. Especially in mobile health environment, if we may reduce delay in EMR transmission between devices, patients can gain more rescue time.\n\nIf a packet is transmitted from node to its neighbor spend time \\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$t_{0}$$\\end{document}t0. Actual transmission time from two nodes is \\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$t_{n}$$\\end{document}tn. Delay \\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$T_{del}$$\\end{document}Tdel in transmission is14\\documentclass[12pt]{minimal}\n\t\t\t\t\\usepackage{amsmath}\n\t\t\t\t\\usepackage{wasysym} \n\t\t\t\t\\usepackage{amsfonts} \n\t\t\t\t\\usepackage{amssymb} \n\t\t\t\t\\usepackage{amsbsy}\n\t\t\t\t\\usepackage{mathrsfs}\n\t\t\t\t\\usepackage{upgreek}\n\t\t\t\t\\setlength{\\oddsidemargin}{-69pt}\n\t\t\t\t\\begin{document}$$T_{del} = t_{n} - t_{0}$$\\end{document}Tdel=tn-t0According to Eq. (14), we can calculate delay time between nodes when they transmit and receive data packets.\n\nThe algorithm scheme can be design by chapter 4. Availability data transmission routing algorithm designs as Table 2.\n\n\nIn this algorithm, time complexity in overhead and energy consumption are O(n). The deliver ratio can be calculated by sending data packets, overhead and energy consumption. Time complexity is better than O(n2) in Spray and wait and Binary spray and wait.\n\nThe simulation adopts the simulator Opportunistic Networking Environment (ONE) [17] and its extended model in opportunistic network to compare energy consumption in these algorithms. Parameters are set based on the random model in opportunistic network. The parameters are set in Table 3.\n\n\nIn the paper, data packets in transmission are many kinds of EMR(electronic medical record). To keep environment authenticity, we adopt EMR in hospital. The parameters are set in Table 4.\n\n\nThe next step is simulation result analysis.\n\nAfter algorithm design and setting simulation apportionment, we will compare with three algorithms Spray and wait(S&W), Binary spray and wait(BS&W) and ADTRA. The simulation is as follows.\n\nFigure 7 shows the relationship between energy and node. Before 300 nodes are participated in transmitting messages, energy consumption in ADTRA is greater than the BS&W. When nodes is reached more than 400, ADTRA energy consumption is less than BS&W. ADTRA can save energy consumption under the condition of the nodes. When nodes is 1000, ADTRA energy consumption is the least. BS&W energy consumption is less than S&W. ADTRA and BS&W acquire good effect, especially ADTRA more suitable used in big data environment.\n\n\nFigure 8 shows the relationship between overhead and node. In simulation experiment, S&W algorithm in routing overhead is very high. The number of nodes in 500, S&W is around 1000, when node number 1000, routing overhead is over 3200. Obviously, S&W algorithm is not suitable for application in big data environment. ADTRA and BS&W are not increased obvious. Especially nodes are less than 280, BS&W is smaller than ADTRA routing overhead. The nodes are more than 300, routing overhead for BS&W is less than BS&W and ADTRA. Nodes are participated to 1000, routing overhead ADTRA is BS&W 75 % of consumption. Explain ADTRA has better optimization effect.\n\n\nFigure 9 is the relationship between deliver ratio and node. In initial stage, the participation message nodes are 100, ADTRA and BS&W transmission deliver ratio is over 40 %, S&W is also exceeded 30 %. With the increase of nodes, three algorithms of deliver ratio are raised. This suggests that in opportunistic network, transmission deliver ratio is improved by increasing when the nodes of the algorithm. When nodes reach 600, ADTRA deliver ratio is more than 70 %, when the nodes reach 800, ADTRA deliver ratio is more than 80 %, when the nodes reach 1000, ADTRA algorithm deliver ratio is more than 90 %. Explain ADTRA when the more data, higher transmission rate. And, in the node reaches 1000, ADTRA deliver ratio is 1.5 times than S&W. It is said ADTRA has good effect to improve deliver ratio in transmission.\n\n\nDeliver ratio is most important parameter in big data mobile heath environment. So it needs to design sending data data packets in different time. The time intervals are 5, 10 and 15 s. The simulation result is as Fig. 10.\n\n\nThe Start in the simulation, 15 s sends data packets deliver ratio is higher than 10 and 5 s. But the distance is less than 10 % deliver ratio. The trend continues. Nodes are arrived at 500, 15 and 5 s deliver ratio are moreover 10 %, 10 s is stable. When nodes reach 1000, 10 s and 15 s deliver ratio are more than 90 %, 5 s is close to 90 %. It is said, ADTRA at different time distribution of data data packets can be get higher deliver ratio. And then the more data data packets interval longer, the higher deliver ratio arrive at.\n\nFigure 11 shows the end-to-end delay on average. In the simulation, three samples are collected at different moments when nodes join in transmission. In Fig. 11, the highest delay occurs in the spray and wait algorithm, which exceeds 2800. Binary spray and wait and ADTRA are better than the spray and wait algorithm because many data packets are lost during transmission via the multicopy algorithm. In the ADTRA, the end-to-end delay stabilizes at 400 when 1000 nodes transmit because effective data packets are adopted.\n\n\nTable 5 and Fig. 12 record surplus energy for nodes that are transmitted in simulation. All of the nodes are divided into four groups and are indexed c0\u2013c249, t0\u2013t249, w0\u2013w249, and r0\u2013r249 in the map. Surplus energy is recorded per hour by each one hundred on average. Surplus energy for three algorithms is shown in Table 5.\n\n\n\nThey show that surplus energy in Spray and Wait algorithm is rapidly consumed. All energy is consumed in 6 h. Binary spray and wait algorithm is better than spray and wait algorithm. Node assemble c0\u2013c249 has 0.01 energy in 12 h. Other assembles consumed their energy for more than eight hours. ADTRA is the best algorithm. Surplus energy is approximately 10 at the end of simulation time. Thus, energy supply can extend lifetime for nodes in communication.\n\nEMR transmission in three algorithms shows in Fig. 13. In Spray and wait (Fig. 13a), a great number of space in transmission are occupied by Image data report, over 98 % space are transmitted Image data packets in Spray and wait. Because nodes accept data packets in order, each node must receive all image data packets from its neighbors. So much space are wasted. In Fig. 13b, the condition is better than Spray and wait, because in Binary spray and wait, only a half of data packets are transmitted from neighbors to nodes. Each node can receive many type of data packets. In Fig. 13c, we can see that many kind of EMR are occupied in transmission more average. Only 40 % space are transmitted Image data packets in ADTRA. According to ADTRA, much more EMR can be transmitted between nodes.\n\n\nIn big data environment, ADTRA can reduce energy consumption and overhead, extend life time with nodes. Moreover, much more EMR can be transmitted when patients and doctors request.\n\nThis paper founds ADTRA in big data mobile health environment. It reduces energy consumption and overhead, and then improves deliver ratio. That is to say, this algorithm can be applied of mobile device and take part in transmitting messages and then it may acquire good result in big data mobile health environment. Research algorithm can improve the contradiction between large populations and medical resources. In the further, some research can be improved selecting effective data by Artificial Intelligence and applied in mobile device."}