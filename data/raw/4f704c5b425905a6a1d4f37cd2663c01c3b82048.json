{"title": "A methodology for optimal placement of sensors in enclosed environments: A dynamical systems approach", "body": "Indoor air quality has been a major concern since the 1970s, and is a major objective for the Environmental Protection Agency (EPA), the National Institute for Occupational Safety and Health (NIOSH), and the American Society of Heating Refrigeration and Air Conditioning Engineers (ASHRAE). People in the western world can spend up to 90% of their lives indoors [1, 2] . Leaky roofs, problems with the HVAC systems, construction of overly tight buildings, the use of synthetic building materials, and chemical based personal care products are primary causes for a variety of health related problems. The exposure to air pollutants (CO2, VOCs, CO, radon, mold, atmospheric particulate matter, and microbial contaminants) may lead to immediate or long-term effects health issues. Immediate symptoms may be as mild as headaches, dizziness, fatigue, and irritation of the sinuses [3] . People most susceptible to these air pollutants include the young, the elderly, and the chronically ill [3] . These effects may also be amplified for people suffering from asthma, which affects approximately 26 million people in the US [4] , resulting in 2 million hospital visits in 2010 [3] , and costing Americans approximately $56 billion from 2002 to 2007 [4] . Longterm exposure may lead to respiratory disease, heart disease, cancer, and can even be fatal [3] . Due to these factors, improving or maintaining indoor air quality (IAQ) is essential during the design process, construction, and the operating lifetime of buildings.\n\nBesides air quality in the indoor environment, another area that has received a lot of attention is indoor environment safety/security during extreme events. Examples of extreme events include chemical and biological warfare (CBW) attacks as well as the transmission of infectious diseases (TID) . Particular examples of CBW attacks are the Sarin gas attack on the Tokyo subway system in 1995 [5] , and the anthrax attacks in Florida, New York City, and Washington D.C. in 2001 [6] . The agents used during these attaches were highly lethal, and a rapid detection may have mitigated their impact. The TID are of concern in highly populated and confined areas such as close office quarters, train/subway stations, train/ subway cars, airports, aircraft, hospitals, and schools. Documented cases of the spread of influenza [7] and the SARS virus [8] have been reported in aircraft travel, outbreak of measles in office spaces [9] , and tuberculosis infection of health care workers [10] . A recent outbreak is the MERS-CoV outbreak in health care facilities in South Korea and China [11] . As in the case of the CBW agents, rapid detection may have helped isolate the spread of the infections before a large number of people were exposed to these diseases.\n\nA plan of action for addressing indoor air quality (IAQ), CBW attacks, and TID outbreaks includes risk assessment and preventive measures, identification of problematic areas and potential sources, and development of response strategies, Fig. 1 . The common link between these steps are the design, deployment, data collection, and data analysis of sensors in the building. The risk assessment stage relies on predictive modeling (zonal airflow network modeling, CFD and contaminant transport simulations, design of sensor locations, and construction of sensor estimators) to provide a priori design information for effective systems. The identification stage depends on sensors to provide critical information about contaminant levels and sources locations (using the sensor estimations for real-time estimation and control). The response strategies help control, isolate, or remove the detected contaminants (using sensor estimators for source identification, determine where to disperse neutralizing agents, and using real-time data to develop an evacuation strategy). In the application of IAQ the response strategies are HVAC controls for demand response of HVAC systems, which have been shown to be a viable energy saving control strategy and to increase IAQ [12e18] . For CBW/TID applications, the response strategies can include evacuation plans, a plan for dispersion of a neutralizing agent, or an isolation plan to prevent further spread of the CBW agent/TID pathogen.\n\nDue to recent advances in sensors and wireless sensor networks [19e21] , data can be collected and harnessed for control of the mechanical systems, as well as source identification and response strategies for both IAQ and CBW applications. Wireless sensors networks connected by either Bluetooth or the internet to the building's automation system enables timely decisions about the building's indoor environment. The standardization of high-level communication protocols from low power devices [19] , have extended the battery life and provide robust sensing platforms to transmit data quickly over longer distances. Other guidelines developed for the optimization of network communication by clustering and data aggregation [22] further enable sensor deployment in sophisticated ways.\n\nAlthough wireless sensor networks have general design guidelines that standardize communication, power consumption, the number of cluster heads, and data aggregation, guidelines for placement of the sensors is usually based on their application. For IAQ applications some design criteria has been established for multiple sensors that may aid in tracking sources and enabling HVAC controls [23] . These criteria include the coverage of deployed sensors, a notion of sensitivity or detection threshold, and response time of the sensors [23] . For CBW applications the focus is on reducing the overall impact of the attack in terms of average impact damage, worst-case impact damage, and the cost of the sensors [24] . Understanding the basic goals or objectives of the sensors and the building environment can guide the sensor placement strategy.\n\nBased on these concepts, current methods for sensor placement design can be classified into the following categories: 1) engineering/heuristic methods, 2) optimization methods and inverse methods. Engineering methods are generally based on experience and rules of thumb for a given set of products and applications. For example a common choice for sensor placement is to uniformly place the sensors in the space. The number of sensors in this scenario may be very large, which for fairly expensive sensors may not be feasible. Other limitations of the engineering methods include a lack of control of the response time, some areas left uncovered, and lack of generalizability to multiple rooms or zones [23] .\n\nDue to these limitations of engineering methods, optimization methods have recently become popular. Optimization methods try to place sensors by taking into account the airflow patterns (from either CFD, a zonal model, or a multizone airflow model) in a building [24e32]. An objective/cost/fitness function is created based on the goals of the deployed sensors. This cost function is maximized using an optimization algorithm. Optimization methods typically result in understanding some notion of the sensor locations, coverage volume, and response time for a given set of release scenarios. There has been some investigation as to which air flow model is most appropriate (CFD, zonal, or multizone) for optimization problems [31, 32] . During this investigation multizone air flow models seem to perform just as well as CFD airflow models, and may be easier to setup and solve. In contrast, CFD simulations provide more detail information about the flow field than multizone approaches.\n\nOver the last few years many different optimization techniques Fig. 1 . Plan of action for design, identification, and response strategies to mitigate the risk involved for IAQ, CBW, and TID applications.\n\nhave been developed to optimally place sensors in a building's indoor environment. Genetic algorithm, simulated annealing, and perturbation stochastic approximation methods have been used to place CBW sensors with a CFD enhanced multizone airflow model [25,30e32] . Other examples include optimal sensor location for aircraft cabins starting from a set of initial sensor locations and a set of release scenarios [26] . General recommendations for sensor locations for an aircraft cabin have been given in Ref. [27] . The applicability of inverse methods for advection-diffusion problems have been recently reviewed [28] . The adjoint probability inverse modeling method has been shown to work well in a multizone airflow model where the number of potential sensor locations is relatively small [29] . However, when the number of potential locations for a sensor is fairly large, the method (especially when involving CFD for the forward problem) may become computationally prohibitive. The use of some heuristics is usually needed to alleviate some of the computational complexity. Inverse methods [23] along with artificial neural networks [33] have been used to quickly find the source location in a building through both CFD and multizone methods. Although optimization methods can be a powerful tool, designing a proper cost function that enables quick and smooth minimization is not always easy. Furthermore, these methods usually involve solving the contaminant advection-diffusion PDE. Finally, optimization methods are inherently iterative, and may require solving a large number of simulations to find the optimal locations. This iterative process can be computationally intensive. Optimization methods are also dependent on a set of release scenarios that are designed based on the space geometry and sensor application. The bottleneck for both optimization and inverse methods is the necessity of solving a partial differential equation for contaminant transport for numerous scenarios and multiple iterations.\n\nIn this context, recent work on reformulating the contaminant transport problem as a dynamical system opens up powerful, computationally cheap, and fast methods for predicting contaminant transport and contaminant evolution in the indoor environment. Such a formulation also allows novel developments in control theory to be applied for identifying sensor locations for multizone and CFD airflow simulations. Furthermore, such a formulation can leverage the impressive body of work on sensor placement, which is a classical problem in dynamical systems and state space systems. For instance, the continuous form of the Perron-Frobenius (PF) operator has been effectively used to determine where density (of, say, contaminants) gathers under the effect of non-linear vector fields [34] . More recently, the discrete finite dimensional form of the PF operator, which takes the form of a Markov Matrix, has been used to identify optimal sensing locations [35, 36] . Utilizing the finite dimensional PF operator has been shown to be a simple way to calculating real-time contaminant transport in buildings [37] . Additionally, such analysis also provides insight into the age of the air and where contaminants spend the most time [38] . The critical advantage of this method is that the finite dimensional PF operator method is relatively computationally inexpensive, as they do not require solving the (direct or adjoint) advection-diffusion PDE or minimization of a complicated cost function.\n\nThis paper is built upon previous work [35, 37] , of utilizing a dynamical systems approach to indoor air analysis. The main idea is determining sensor locations from velocity vector fields (acquired from analytical methods, CFD, particle imaging velocimetry, etc.). We leverage the finite dimensional PF operator framework and showcase a sensor placement algorithm that is very easy to solve. This algorithm naturally accounts for complex geometries, constraints in sensor placement, as well as sensing constraints. We illustrate the capabilities of this framework by comparing results with established recommendations from published literature. The sensor placement strategy for a given building zone is investigated for both IAQ and CBW applications. This approach is a data driven method that maximizes the sensing volume by taking into account the number of sensors and the response time for a given accuracy of the sensors. The method described in this paper has the potential to provide designers, engineers, and architects with not only the sensor locations and sensor coverage for deployed wireless sensors, but also the framework for classical estimator problems and real time contaminant transport.\n\nThe outline of rest of the paper is as follows. Some mathematical preliminaries are discussed followed by the sensor placement algorithm. Then sensor placement constraints and sensing constraints are introduced into the sensor placement algorithm. The placement strategy is compared with published recommendations in an aircraft cabin. Finally, multiple sensors are placed for a building zone using a CFD datasets with applications in IAQ and CBW.\n\nIn this section some mathematical preliminaries on dynamical systems and the PF operator are introduced. Following the mathematical preliminaries, the sensor placement algorithm is described. Finally methods for including sensor accuracy, sensor location constraints, and sensor sensing constraints into the sensor placement algorithm are explained.\n\nThe advection of a contaminant 1 (gas or particle) in an airflow field, U, is described by the well-known scalar transport model (advection-diffusion partial differential equation),\n\nThe advection diffusion PDE describes how a contaminant density evolves/changes under a flow field, Fig. 2a and Fig. 2b . Note that the flow field can be generated analytically, by computational fluid dynamics (CFD) simulations, or by experimental methods like particle image velocimetry (PIV). This flow field, U \u00bc f \u00f0x; t\u00de; represents a (2D or 3D) spatially varying vector field. Additionally, the flow field may be a function of time. From a dynamical systems perspective, we denote the flow field and the associated transport as a time varying dynamical system.\n\nAnalogously, for steady state flows, the dependence on time is removed. From a dynamical systems perspective, we now denote the system as a time invariant dynamical system.\n\nFor either a steady or time varying flow field the advection diffusion PDE, Eq. (1), maps a contaminant concentration in a building zone at some time t to some future time t \u00fe t. This mapping L\u00f0$\u00de, is known as the PF-operator. 2\n\nIf, say, two sensors are placed at locations j and l, the contaminant concentration at these locations are measured by these sensors. This can be mathematically expressed in terms of the output equations, Y\u00f0x; t\u00de Y\u00f0x; t\u00de \u00bc l k \u00f0x\u00de4\u00f0x; t\u00de; k \u00bc fj; lg (5) where l k \u00f0x\u00de is the indicator function for the sensor location (the indicator function is zero everywhere except in a finite region around a sensor, i.e. in the 'sensing' volume).\n\nAlthough scalar transport by solving the PDE has been a popular method for determining contaminant concentrations, the method has recently been pointed out to have some limitations [38] . These limitations include loading a potentially large amount of data into memory, solving a PDE, which can be time consuming for real-time decision making, and may require specialized software packages or commercial software. As a result of these limitations the discrete finite dimensional PF operator has become of interest (Fig. 2) . The discrete finite dimensional PF-operator breaks up the domain into a set of cells fu 1 ; \u2026; u n g. These cells are also called states. The movement of contaminants over some time interval is represented as a (probabilistic) transition from an initial state i, to a final state, j. The collection of all these probabilistic transitions over a time period in the domain is the discrete finite dimensional PF-operator and corresponds to a Markov matrix (also viewed as an adjacency or transition matrix), Eq. (6). (1), c) Discrete field of a contaminant at time t, d) discrete field of a contaminant at time after the discrete form of the PF operator has been applied, Eq. (10). 2 The PF operator has two forms: continuous and discrete. The continuous form of the PF operator takes the form of the passive scalar transport [34] , Eq. (1) under high Reynolds number conditions. The discrete form takes the form of a Markov matrix and is discussed in the following section.\n\nThe Markov matrix has some special properties. All the values are non-negative, Eq. (7), and the sum of the elements in a given row is always 1.0, Eq. (8).\n\nWe refer the interested reader to [28] which exhaustively details the construction of Markov matrix, P, from the velocity field information, U. The Markov matrix P, serves as the finite dimensional representation of the advection-diffusion PDE, Eq. (1), on the states of the Markov matrix. The (volumetric) average contaminant concentration in the Markov states at a given time t, is given by\n\nThe contaminant concentration in a specific cell u k , at time t is related to the contaminant density function and can be obtained for Markov state, m k t as\n\nFor steady flow fields: given a Markov matrix P, a contaminant concentration in the Markov states at time t 0 , and a source, S, the evolution of the contaminant for some time t \u00bc mDt is governed by the simple nested matrix-vector products shown in Eqs. 10(aec). A graphical example of the discrete finite dimensional PF operator is shown in Fig. 2c and d.\n\nFor unsteady flow fields: a set of Markov matrices governs the contaminant evolution at a set of time snapshots, Eq. (11).\n\nThe Markov matrix P \u00f0i;i\u00fe1\u00de takes the contaminant density from time t i to time t i\u00fe1 . The evolution of the contaminant on the time dependent flow field is calculated by Eqs. 12(aec).\n\nFinally, the discrete counterpart of the output equation (Eq. (5)) for both steady and unsteady flow fields for sensor locations at state j and l\u00f0k \u00bc fj; lg\u00de can be written as Eq. 13a-c. We first define the sensing volume of a sensor placed at cell/state a as;\n\nThis is simply the discrete form of the indicator function. For multiple sensor, we generalize this to a matrix of indicator functions, C \u00bc \u00c2 c \u00f0j\u00de c \u00f0l\u00de \u00c3 . Now, the value sensed by each sensor is simply the inner product of the contaminant vector with the indicator, and is written as\n\nThus, the discrete sensor outputs at time t are given by, Y t . Markov Matrices have shown promising results as an alternative to scalar transport [38e40]. A robust procedure of constructing Markov matrices from a generic flow field is shown in the authors' previous work [38] . The data driven process uses set theory and involves choosing a Markov state size, choosing the time step associated with the Markov matrix, the calculation of the entries of the Markov matrix, and efficient storage of the often sparse Markov matrix.\n\nThe sensor placement algorithm involves the construction and analysis of the discrete time observability gramian. The observability gramian is a control theoretic tool and is used to characterize the relative degree of observability of various states in the system (more specifically, the state space) [41] . The current work build upon our earlier work in Refs. [37] and [42] , where we extended the definition of the observability gramian to nonlinear flow field and advection diffusion PDEs. Roughly speaking, the observability gramian for advection diffusion PDE can be defined as a function from the physical space X to real valued nonnegative number. If the observability gramian on a particular region, say B3 X, is positive then the density function (contaminant distribution) on the set B, can be estimated by building an estimator. On the other hand, if the gramian on a particular set is zero then one cannot design an estimator to estimate the density supported on the set. Furthermore, if the value of the gramian on set B 1 3X is large compared to B 2 3X, then it is relatively easier to observer the density function on set B 1 compared to set B 2 . In other words, the gain of the estimator to estimate the density function on B 1 is smaller compared to one required to estimate density function on set B 1 . We refer the reader to [35] for more details on this discussion. Given the fundamental role that the observability gramian plays in the design of estimators, it is widely used in system and control theory as a natural cost function for the purpose of sensor placement. We extend this to the current application. Specifically, the observability gramian is constructed using the Markov matrix. We then use the observability gramian to identify locations/cells that increase the relative degree of observability of various cells. These cells will serve as the locations of the sensors.\n\nIn this section the calculation of the observability gramian is discussed for both steady state and transient flow fields. Also, the process of including sensor accuracy into the calculation of the observability gramian and placement constraints and sensing constraints on the sensors are discussed.\n\nTowards the construction of observability gramian we first construct the contaminant tracking matrix, Q \u00f0t\u00de , for the time interval t by identifying how a constant source of contaminants is transported over the time interval, t. For steady flows this is given as\n\nHere the exponent, m satisfies t \u00bc mDt, where Dt is the time step used to construct the Markov matrix [37] . Note that P propagates the contaminant from time t to time t \u00fe Dt, P 2 propagates the contaminant from t to t \u00fe 2Dt, and P k propagates the contaminant from t to time t \u00fe kDt. The sum of I; P; P 2 ; \u2026; P m builds a history of states in which contaminants travel over the time interval t \u00bc mDt, \n\nRemark: The ith row of the Markov matrix stores the destination states of containment released in state i [37] after one time step. Similarly, the ith column of the Markov matrix stores originating states from which contaminant reaches state i, after one step. Since the contaminant tracking matrix builds a sensing history as time evolves from time t 0 to t 0 \u00fe mDt, the columns of the contaminant tracking matrix store the originating states over m time steps. A graphical example of contaminant tracking matrix is seen in Fig. 3 , for various values of m. Here, the non-zero entries of the contaminant tracking matrix are displayed. The Markov matrix is from published data of contaminant transport in an aircraft cabin [40] . The contaminant tracking matrix starts filling up for increasing m, indicating that flow is spreading across the domain.\n\nSince the flow field has been formulated in terms of a dynamical system and the Markov matrix has defined a notion of states, the concept of observability can be utilized. In a classical sense, observability is a metric that determines how well the states can be inferred by a system's output. The outputs (in the context of this work) are the observations of sensors placed in discrete states of the domain. The discrete time observability gramian determines whether an arbitrary state is observable within a given time horizon, t. Consider a case where a sensor is placed at location i with reference to the contaminant tracking matrix Q \u00f0t\u00de . The indicator matrix C corresponding to a sensor placed in state i is given by C i . The relative degree of observability for different cells is given by (16) Note that Q \u00f0t\u00de C i for a single sensor placed in state i is a column vector with nonnegative entries. In particular, will be a column vector where the positive entries are states that are observable from state i and the zero entries are states that are not observable from state i. For placement of 2 sensors in locations k \u00bc fi; jg, Q \u00f0t\u00de C k is a 2 column matrix with nonnegative entries, Eq. (1). (17) The positive entries of the 1st column of correspond to the states that are observable from state i, and the positive entries of the 2nd column correspond to the states that are observable from state j. The zero entries of in the 1st and 2nd column correspond to states that are not observable from states i and j respectively. The construction of can easily extended to more than 2 sensors. With some abuse of terminology, we will call as the observability gramian 3 for a set of sensor locations k and corresponding indicator matrix C k .\n\nBased on the sensor's sensing accuracy the signal will be unavoidably corrupted by noise. The quality of the sensor can be naturally accounted for in the contaminant tracking matrix. In the contaminant tracking matrix, large values in a given column represent a very strong signal while smaller values represent weaker signals. Although a theoretically perfect sensor may be able to accurately sense the contaminant in states with low values, realistically sensors have accuracy thresholds. This problem is remedied by thresholding the values in the contaminant tracking matrix. The threshold value is a nondimensional value that describes the ratio of source release rate, the release time, and the value detected at the sensor, Eq. (18) . For a given source, the source releases contaminants at a given rate, S source ; over the given sensing period, t. The sensors accuracy in this context is the percentage of the contaminant needing to be sensed over the sensing period. Typically, a detection threshold and sensor accuracy is known for a given sensor.\n\nUsing the sensor's accuracy as the threshold value, the values less than the accuracy of the sensor in the contaminant tracking matrix (example: 1%, 5%, 10%, etc.) are replaced by zero, while any value larger is kept for the placement analysis. This creates a new thresholded contaminant tracking matrix, Eq. (19) . The effect of this thresholding can be seen in Fig. 4a and Fig. 4b \n\nOther factors that affect the decisions of sensor placement in buildings are location constraints and sensing constraints. Location constraints exist because some practical limitations exist that preclude placing a sensor in a given state. Some practical limitations include the following: the sensor location is not serviceable; occupants have the ability to move or bump into the sensor, damage the sensor, or be annoyed by the location of the sensor; and sensor design limits the placement to a wall or ceiling. Location constraints exist for IAQ, CBW, and TID applications. Often expensive CBW and TID sensors would have to be placed outside the occupied zone, such that the sensors are not tampered with or easily damaged. Occupants may not want CO2 and VOC sensors in the occupied space such that they have to walk around them, avoid stepping on them, or for ascetic reasons. The placement of sensors at the top of a tall atrium may not be a good location, because if a sensor malfunctions the sensor may not be easily replaced or serviced. Incorporating these constraints is done after the contaminant tracking matrix has been thresholded. If a certain state cannot accommodate a sensor (location constraint), then the column is removed from the matrix. To remove a set of states j2\u2115 n loc from the sensor selection process, the entries in column j th are replaced by zeros, Fig. 4c and Eq. \n\nSensing constraints is more applicable for IAQ sensors as a designer, engineer, or architect is primarily concerned with the CO2 and VOC levels in the occupied space. In this case, we want to remove any consideration of states that lie outside the occupied zone. To remove a set of states i2\u2115 nsen from sensor placement \n\nAfter the construction of the contaminant tracking matrix, thresholding for accuracy requirements, and selection of placement and sensing constraints, the sensors can be placed. We perform the analysis for contaminant released in an arbitrary state, and then derive the generalized sensor placement algorithm from this discussion. Consider a specific release scenario in the ath Markov state r \u00f0a\u00de , given as r \u00f0a\u00de 2\u211d 1\u00c2n ; r\n\nA set of sensor locations, k, should be designed such that the ath Markov state is maximally observable from the chosen sensors. This can be represented as\n\nThe preceding statements can be extended to a case of b release scenarios A \u00bc fa 1 ; a 2 ; \u2026; a b g, as.\n\nThe sensor locations k, are designed to maximize the number of observable states in the release scenarios from A, Eq. (25).\n\nFinally, to include all possible release scenarios for every Markov state, the release scenario matrix, r \u00f0all\u00de , becomes the identity matrix, Eq. (26). \n\nEqs. (23) , (25) and (27) are design problems for C k to maximize s \u00f0a\u00de ; s \u00f0A\u00de ; and s \u00f0all\u00de respectively. That is, identify number and location of sensors to completely cover the states in b Q \u00f0t\u00de . The choice of sensor locations k, to establish complete coverage of the states using the minimal number of sensors is identical to a problem in combinatorics called the \"set cover problem.\" The set cover problem is one of Karp's NP-complete problems [43] . We use a near optimal greedy algorithm [44] to determine the sensor locations. The basic idea of the greedy algorithm is to choose the sensor locations based on the largest number of uncovered states. The positivity property of the Markov operator is used to prove that the greedy algorithm is optimal for sensor placement [36] . We remind the reader that the columns of the contaminant tracking matrix holds the observable states (nonzero entries) for a sensor placed in the respective column. The 1st sensor, k 1 , is placed where column support is maximized [35] (i.e. the column with the largest number of non-zero entries):\n\nPlacing the first sensor at k 1 results in a fraction of the states being observed. For subsequent sensor placement consideration, these states are removed from the contaminant tracking matrix, which is denoted by b Q \u00c3\u00f0t\u00de . With every new sensor being placed, the contaminant tracking matrix is updated to only reflect the states that are not currently observed. The next sensor is then placed based on the set of release scenarios, B, not yet covered by all previously placed sensors, Eq. (29).\n\nThis process is illustrated in Fig. 5 . By placing a sensor in state 7, the states that can be sensed are 2, 6, 7, 8, 9, and 10. A sensor placed in state 7 can sense 60% of the domain. After a sensor has been placed in state 7, entries in the rows and columns of state 2, 6, 7, 8, 9, and 10 are no longer of interest. A sensor in state 7 can sense these states, so column 7 and rows 2, 6, 7, 8, 9, and 10 are set to zero, (grayed in Fig. 5c and d) . After the placement of the first sensor and the removal of its sensing volume, subsequent sensors can be placed to sense the remaining volume. Placing the second sensor in state 1 allows for the sensors to sense state 1, 3, 4, and 5 in addition to the volume sensed by state 7. A second sensor in state 1 is able to sense the remaining 40% of the building. For this example, only 2 sensors are necessary to sense the entire space for the time interval, t. The columns with the largest number of nonzero entries can observe/sense the largest percentage of states/volume in the building environment. The indices of the nonzero entries in the columns of the contaminant tracking matrix provide a coverage map of the observable states for a given Markov state, Fig. 6 .\n\nThe sensor placement problem is formulated as the well-known set cover problem, and a greedy algorithm is used to place a minimum number of sensors with maximum coverage. This algorithm is designed to maximize the sensing volume of each subsequent sensor for the volume in the space not yet sensed by previously placed sensors. This algorithm accounts for all possible release scenarios (as the Contaminant tracking matrix includes all release scenarios) instead of selecting only a few scenarios (as is the case for other methods). That is, the algorithm includes release scenarios for every discrete volume (cells) in the CFD simulation. Furthermore, the total amount of contaminant released (independent of release time) within the sensing time determines the sensor placement. The variables in the placement algorithm are the number of sensors, the response time, and the total coverage of all the sensors. Based on these inputs, three different placement strategies are outlined below. The first few steps for each strategy are the same and are displayed in the flow chart in Fig. 7 \n\nThis section discusses results including the airflow field used, contaminant transport using the Markov matrices, and the sensor placement algorithm. Three air flow field are generated using CFD. Based on these flow fields Markov matrices are calculated and are shown to provide similar contaminant transport as the advection diffusion equation. Using these Markov matrices sensors are placed in for applications in CBW and IAQ applications using different sensing and placement constraints. A literature comparison with an aircraft cabin is discussed in Appendix A, which provided the initial motivation for this work. other boundaries are insulated. The inlet temperature and the heat flux of the people and the wall were taken from a similar sensor placement CFD problem from Liu et al., 2009 [29] . The 2nd and the 3rd case have 1 person and 2 people in the space respectively, and a heated window on the right boundary above the outlet, Fig. 8c and Fig. 8d . The CFD simulations used the turbulent RNG k-\u03b5 model, and all the residuals were solved to 1e-6. Buoyancy in flow field 2 and flow field 3 was introduced by the Boussinesq approximation for density. Each simulation was discretized into 4480, 11140, and 10280 hexahedral elements for case 1, 2, and 3 respectively. These discretizations of the flow field produced sufficiently spatially converged values of the u and v components of velocity and the temperature when compared with meshes at higher resolutions.\n\nThe air flow field for the isothermal problem, Fig. 8b , has been compared with the data specified by the benchmark problem, IEA 1993, and the data that agreed well with the published literature. For the other flow fields the same fluid flow model was used that validated the turbulent Rayleigh-Benard problem. In the validation of an aspect ratio 1 \u00c2 1 Rayleigh-Benard cell, the Nusselt number was compared with correlations in literature [46, 47] . The data produced by these simulations agreed well with the published correlations.\n\nIn order to examine the sensor placement problem Markov matrices are required to calculate the contaminant tracking matrix. (1). The initial condition of the comparison is a contaminant concentration of 1 is placed in the top half of the domain for each problem. The contaminant concentration at the centerline y \u00bc 1.5 [m] at two different times for both the Markov method and passive scalar transport is shown in Fig. 9 . The excellent comparison confirms the accuracy of the Markov matrices used in this analysis.\n\nIn this subsection the sensor locations, coverage maps, and sensing times are investigated for the three flow fields with the addition of placement and sensing constraints. The effect of the adding the constraints on sensing time and the coverage maps are analyzed. Three different placement problems are addressed for each flow field; 1) the placement of sensors with no constraints, 2) placement of the sensors with a placement constraint outside of the occupied space, and 3) a placement constraint outside the occupied space along with a sensing constraint of sensing only the occupied space.\n\nPlacement problem 1) with no constraints is analyzed as a reference point for when constraints are added. Placement problem 2) is designed for critical application like CBW and TID applications. The expensive sensors are placed outside the space where occupants may damage these sensors, and the entire volume is Fig. 13 . Sensing volume fraction of the interested volume for the 3 flow fields for no constraints a), b), and c); a placement constraint of sensors outside the occupied space d), e) and f); and both a sensing constraint outside the occupied zone and a sensing constraint of sensing only the occupied space g), h), and i). observable by the sensor network to ensure that the source release location is observable. Placement problem 3) is designed for IAQ applications since the volume of interest is the occupied space where contaminants like CO 2 and VOCs levels need to be controlled. The placement of the sensors in problem 3) are also outside the occupied zone to limit the damage or movement of the sensors by occupants. Each problem is analyzed individually, and an analysis of all the problems is discussed at the end. To be consistent, a sensor accuracy is 1% is used for all the problems.\n\nThe problem of interest is case 3 described in Section 2.4 (overview of algorithm), and answers the question \"how quickly can the sensor network sense the entire space and respond with a known number of sensors?\" The contaminant tracking matrix was calculated initially for a response time equal to the timestep associated with the Markov matrix. The sensors were placed and the total coverage of the sensor network was evaluated. If the coverage of the sensor network was less than the volume of the space, the response time was incremented by the Markov timestep. This process continued until the domain was 100% observable by the sensor network. The response times, sensor locations, placement order, and the sensor coverage maps are displayed in Fig. 10 .\n\nBased on the results presented in Fig. 10 , several observations can be made. In all cases there seems to be a dominant sensor that can sense the majority of the domain. The outlet seems to be a dominant place for a sensor for most of the cases. This result suggests that over long response times contaminant dispersed anywhere in the space eventually ends up in the outlet, which is why the outlet is often chosen as a sensor position. For all the flow fields, as the number of sensors increase, the sensing time decreases. Introducing obstructions increases the sensing duration needed to sense the entire domain. The case with one obstruction/person takes the longest to sense. This may be due to the large buoyancy driven recirculation area on the right side of the domain. The most difficult areas to sense seem to be centers of recirculation. In the placement of multiple sensors, the location of the sensors seem to be clustered near regions of low air velocity.\n\nFor CBW and TID applications, the sensor network needs to be able to have the ability to sense the entire domain such that any release scenario can be sensed as quickly as possible. The sensors may be expensive and cannot be damaged by occupants in the space. Fig. 11 shows the sensor locations, response times, and coverage maps include a placement constraint of the sensors outside the occupied space. For each of the domains in Fig. 11 , all the states in the domain are observable. For the placement of a single sensor the times and locations are the same as the no constraint case. Many observations can be made by comparing the no constraint situation with this situation, Figs. 10 and 11. The sensor locations, response times, and coverage maps may be the same if the sensors with no constraints are already placed outside the occupied space (for example, placement of 2 sensors for each flow field). Another situation where the response time is the same is when there are multiple sensor locations that can cover the state that are not yet observable (ex: placement of 3 sensors and 2 obstructions). Coverage maps are mostly similar, which is to be expected since the regions of low air speed do not change by simply adding placement or sensing constraints. The single obstruction flow field takes the longest to sense. The response time are either the same or longer, with some response times being substantially longer (ex: placement of 3 sensors for the 1 obstruction case).\n\nFor IAQ applications, contaminant concentrations inside the occupied zone are more a concern than concentrations outside the occupied zone. For this reason, a sensing constraint is added to the contaminant tracking matrix such that only the occupied zone is sensed. Just like the CBW and TID applications, sensors also should not be placed where occupants can damage or move the sensors. For this reason, a location constraint is also added in this situation to constrain the sensors to locations outside the occupied space. Because the sensing volume is smaller, the response times are faster than the other two applications, Fig. 12 . For this application sensors tend to be placed near the occupied zone or at the outlet. Also in this situation for the case 3 algorithm, the entire occupied space may become observable before the desired number of sensors is reached. In the examples of 4 sensors for both the isothermal and 2 obstruction cases, 3 sensors are required to sense the entire occupied space and a placement of a 4th sensor provides only redundant information. This is due to the telescoping nature of the placement algorithm. When considering the union of the column supports for multiple sensor locations, this situation may not occur.\n\nWe next investigate the effect of placement and sensing constraints on the total coverage. The number of sensors and response times are known, while the coverage is determined. This corresponds to case 2 (as defined in section 2.4). A set of response time (approximately 30 s intervals) and up to 20 sensors were placed in the three air flow fields. For each of the response times and the number of sensors, the sensor coverage of the interested region is displayed in Fig. 13 . The interested region for the no constraint and the placement constraint situations is the entire domain, while the placement and sensing constraints is only the occupied space.\n\nThe results in Fig. 10 show that the response times for the isothermal flow field are faster than the obstruction non isothermal cases. More sensors placed in the domain results in faster response times. The addition of a placement constraint outside the occupied space affects the total sensing volume during shorter response times, Fig. 13 , but not as much for longer response times. For each of the situations the isothermal flow field has a higher coverage fraction as compared to the 1 obstruction and 2 obstruction flow fields.\n\nOverall, the algorithm takes the discrete form of the PF-operator and constructs a contaminant tracking matrix. The column support of the contaminant tracking matrix is used for determining sensor positions. Placement of successive sensors maximizes the coverage of the sensor being places based on the states that are currently not observable by the sensor network. From the showcased flow fields, 4 major observations can be made from the algorithm.\n\n1. The algorithm places sensors near regions with low air speed. 2. Regions where buoyancy dominants the air flow field are harder to sense than regions with higher Reynolds numbers and inertial driven air flow patterns. 3. The addition of placement constraints and sensing constraints has a greater effect on the shorter response times. 4. As more sensors are placed the response time decreases.\n\nWe developed a simple algorithm that can rapidly identify optimal sensor location under various scenarios. We illustrated this methodology for three different steady state flow fields under different sensor placement constraints and sensing constraints that are relevant to CBW and IAQ applications. While the methodology is general, we choose to illustrate the approach using steady state flow fields for simplicity. In reality, flow fields experience perturbations by occupants moving around the space, changes in air flow conditions (boundary conditions), and are usually transient. The flow fields produced by these perturbations and the changes in supply air temperature, supply air flow rate, and changes in the building envelope surface temperatures or thermal loads are transient in nature. The elegance of considering the flow field (and the associated contaminant transport dynamics) from a dynamical systems perspective allows leveraging rigorous mathematical tools for sensor placement. More importantly, this methodology can be naturally extended to transient flow fields (as formulated in Eq. (17) and also to uncertain (stochastic) flow fields [48] . This is the basis of two forthcoming papers that 1) investigate sensor locations for transient flow fields or multiple operating conditions, and 2) incorporate uncertainty in boundary conditions and the flow field to determine robust sensor locations.\n\nThis paper utilizes a dynamical systems approach for sensor placement for air flow fields. The algorithm uses the discrete form of the Perron-Frobenius operator (a Markov matrix) to construct a contaminant tracking matrix in which sensors are placed based on the largest column support in the contaminant tracking matrix. The addition of sensor accuracy along with placement constraints and sensing constraints are included in the algorithm. The algorithm considers all release scenarios of the contaminant (i.e. release in all states of the Markov matrix). We envision this algorithm to be an efficient alternative to current optimization/inverse based approaches to sensor placement in buildings.\n\nThe designed algorithm is showcased with a literature example and three additional flow fields based on different configurations of a reading room. The effect of different placement and sensing constraints on the sensor network response time is also investigated. The algorithm provides a simple and rigorous framework to place sensors for various scenarios. In particular, this framework has direct utility for placing sensor nets for applications involving sensing of chemical and biological weapons, transmission of infectious diseases, and indoor air quality. The contributions of this paper has the ability to help designers, engineers, and researches better understand the coverage maps, response times, and number of sensors needed to effectively control the mechanical systems in buildings and design response and evacuation strategies during extreme events. The proposed framework for sensor placement can be easily extended to account for various sources of uncertainty in the building environment.\n\nBG and AF acknowledge support from Iowa Energy Center (IEC14011OG), and from NSF 1149365. UV acknowledges the financial support from NSF 1150405.\n\nA set of Markov states that define the release scenarios B\n\nA set of Markov states that define the release scenarios not covered by previously placed sensors C k\n\nThe output matrix for a set of sensors described by k The support of the k sensor locations for a set of release scenarios with the release states being A i s \u00f0all\u00de\n\nThe support of the k sensor locations for all possible release scenarios t Time U\n\nAir velocity vector with components fu; v; wg u\n\nThe x-component of the air velocity vector V Volume Vuk\n\nVolume of the u k state v\n\nThe y-component of the air velocity vector w\n\nThe z-component of the air velocity vector x\n\nThe position vector with directions fx; y; zg x\n\nThe x-coordinate direction y\n\nThe y-coordinate direction z\n\nThe z-coordinate direction Dt\n\nTimestep associated with the Markov matrix \u03b5 acc Accuracy threshold for the contaminant tracking matrix l B k \u00f0x\u00de\n\nThe indicator function of the k sensor locations m detect\n\nThe contaminant concentration detected at the sensor m source\n\nThe source contaminant concentration [27] did not consider the outlet as an option to place the sensor. Using the sensor placement algorithm provided in this paper, a single sensor as well as 2 sensors are considered. For a single sensor to sense all the Markov states in the scenarios using the aircraft, the sensor can be placed in the aisle of row 2 and has a response time of 16 s, Fig. 14a . For 2 sensors to sense all the Markov states in the aircraft, the sensors are also placed in the aisle of rows 1 and 2, Fig. 14b . The response time of the sensors is 8 s, which is less than the response time of a single sensor. The thresholded and constrained contaminant tracking matrix was computed for a sensing time of t \u00bc f4; 8; 12; 16g seconds. The column support in terms of the sensing volume for each Markov state and each time is shown in Fig. 15 . The results show that as time progresses contaminates will tend to gravitate towards the center of the aircraft.\n\nBased on this analysis there are two observations which are consistent with the conclusions of Zhang et al., 2007 [49] and Mazumdar et al., 2008 [27] . These authors state that the best location for a single sensor is in the center of the aircraft, and that the response time for two sensors is less than the response time for a single sensor. Heuristically, these observations are seen in Figs. 14 and 15 that serve as motivation toward the next examples. 5 "}